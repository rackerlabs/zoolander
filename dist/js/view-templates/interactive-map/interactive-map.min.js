"use strict";!function(t){t.fn.rsInteractiveMap=function(e){var o,i=t(this),r=t(".navbar-fixed-top"),n={mapSelector:null,buildMap:function(e){for(var o=e.circles,i=0;i<o.length;i+=1){var r=o[i],n=t('\n          <div class="rsMap-'.concat(r.type,'" style="top:').concat(r.top,";left:").concat(r.left,';">\n            <div class="rsMap-inner">\n              <div class="rsMap-toolTip">\n                <span class="rsMap-toolTip-header">').concat(r.tipTitle,'</span>\n                <p class="rsMap-toolTip-body">').concat(r.tipBody,'</p>\n                <span class="rsMap-toolTip-footer">').concat(r.tipFooter,'</span>\n                <div class="rsMap-toolTip-arrow rsMap-arrow-bottom"></div>\n              </div>\n              <div class="rsMap-').concat(r.type,'-circle">').concat(r.items,"</div>\n            </div>\n          </div>"));this.mapSelector.append(n),this.hoverCircle(n,r.type)}t('<div class="rsMap-mobile"></div>').insertBefore(this.mapSelector).append('<img src="'.concat(e.mobileImage,'" class="rsMap-mobileImage"/>'))},positionTip:function(t,e,o){var i=t.find(".rsMap-toolTip"),r=t.find(".rsMap-".concat(e,"-circle")),n=i.outerHeight(),s=i.outerWidth(),a=r.outerWidth(),c={h:n,c:a},p={w:s,c:a};o&&(c.offScreen=o,p.offScreen=o);var l={top:this.setTopCoords(c),left:this.setLeftCoords(p)};i.css(l)},isOffScreen:function(t,e){return t.get(0).getBoundingClientRect().y<0+e},setTopCoords:function(t){return t.offScreen?-(t.h/2-t.c/2):-(t.h+15)},setLeftCoords:function(t){return t.offScreen?t.c+15:-(t.w/2-t.c/2)},hoverTimeout:null,hoverCircle:function(e,o){var i=this,n=e.find(".rsMap-toolTip"),s=n.find(".rsMap-toolTip-arrow"),a=function(){t(".rsMap-inner").parent().css("z-index",""),n.attr("style",""),s.removeClass("rsMap-arrow-left").addClass("rsMap-arrow-bottom")};n.hover((function(){clearTimeout(i.hoverTimeout)})),hoverintent(e.get(0),(function(){clearTimeout(i.hoverTimeout),t(".rsMap-toolTip").each((function(){var o=t(this),i=o.parent().parent();i.index()!==e.index()&&(o.hide(),i.css("z-index",""))})),e.css("z-index",5),n.fadeIn(200,(function(){e.css("z-index",5)})),i.positionTip(e,o),s.removeClass("rsMap-arrow-left").addClass("rsMap-arrow-bottom"),i.isOffScreen(n,r.outerHeight())&&(i.positionTip(e,o,!0),s.removeClass("rsMap-arrow-bottom").addClass("rsMap-arrow-left"))}),(function(){i.hoverTimeout=setTimeout(a,500)}))},init:function(t,e){this.mapSelector=e,this.buildMap(t)}},s={mobileImage:"https://0fb555c65f288d09a992-a2085a232a1d2a458a641f48ff12bf08.ssl.cf2.rackcdn.com/mobile-map.png",circles:[{type:"dataCenter",items:1,tipTitle:"Generic Title",tipBody:"Generic Body Text",tipFooter:"Generic Footer Text",top:"100px",left:"100px"}]};return o=e?t.extend(!0,{},s,e):s,n.init(o,i),t.fn.rsInteractiveMap.test=n,this}}(jQuery);
