"use strict";!function(e){e.fn.o365Table=function(i){var t={buffer:0,isIE:function(){return document.documentMode||/Edge/.test(navigator.userAgent)},makeBuffer:function(i){var t=0;e.each(i,(function(i,a){t+=e(a).outerHeight()})),this.buffer=t},resize:function(e,i){t.setWidth(e),t.locateTable(e,i)},setWidth:function(e){var i=e.$header.outerWidth()+e.border;return e.$stickyTable.css({width:"".concat(i,"px")})},buildMobile:function(i,t){if(i.$mobileTable.insertAfter(i.$table),i.$header.find(".rsPricingTable-head-th").each((function(){var t=e(this).clone(!0),a=e('<tr class="rsPricingTable-mobile-row"></tr>');a=a.append(t),i.$mobileTable.append(a)})),i.$table.find(".rsPricingTable-body-tr").each((function(){e(this).find("td").each((function(){var a=e(this),n=a.clone(!0),s=a.index(),r=i.$mobileTable.find(".rsPricingTable-mobile-row").eq(s);r.append(n),t.labelFirstCol&&0===s&&r.find(".rsPricingTable-body-td").hide()}))})),t.labelFirstCol){var a=i.$mobileTable.find(".rsPricingTable-mobile-row"),n=a.eq(0);a.each((function(){var i=e(this),t=n.find(".rsPricingTable-body-td");0!==i.index()&&i.find("td").each((function(){var i=e(this);i.prepend('<strong class="rsPricingTable-mobile-label">\n                    '.concat(t.eq(i.index()-1).html(),"\n                  </strong>"))}))}))}},addHiddenTable:function(e){return e.$stickyTable.insertBefore(e.$table),this.setWidth(e),e.$stickyTable.css({top:this.buffer,zIndex:"-1",visibility:"hidden"})},stickTable:function(e){e.$header.css({visibility:"hidden"}),e.$stickyTable.css({transform:"translateY(0px)",visibility:"visible",zIndex:"15"}),e.$stickyTable.addClass("rsPricingTable-isStuck"),e.$table.addClass("rsPricingTable-isStuck")},unStickTable:function(e){e.$header.css({visibility:"visible"}),e.$stickyTable.css({visibility:"hidden",zIndex:"-1"}),e.$stickyTable.removeClass("rsPricingTable-isStuck"),e.$table.removeClass("rsPricingTable-isStuck")},getYcoords:function(e){return-(e.winTop-e.tableBottom-2*e.tBorder)},locateTable:function(e,i){if(e.$win.outerWidth()>i.minScreen){var a=Math.round(e.$win.scrollTop()),n=e.$header.offset().top-t.buffer,s=n+e.$tableBody.outerHeight();if(t.setWidth(e),a>n&&a<s)i.inTabs&&e.$tab.is(":visible")?t.stickTable(e,"from bottom"):i.inTabs||t.stickTable(e,"from bottom");else if(a<s)t.unStickTable(e);else if(a>s){var r=e.border,l="translateY(".concat(t.getYcoords({winTop:a,tableBottom:s,tBorder:r}),"px)");i.inTabs&&e.$tab.is(":visible")?t.stickTable(e):i.inTabs||t.stickTable(e),e.$stickyTable.css({transform:l})}else e.$stickyTable.css({transform:"translateY(0px)"})}else t.unStickTable(e)}};return e(this).each((function(){var a=t.isIE()?" rsPricingTable-borderSep":"",n=e(this),s=n.find(".rsPricingTable-head"),r=e('<table class="rsPricingTable-sticky'.concat(a,'">').concat(s.html(),"</table>")),l=e('<table class="rsPricingTable-mobile"></table>'),b=n.find(".rsPricingTable-body"),o=e(window),c=null,d=parseInt(n.css("borderWidth"),10),f={$table:n,$header:s,$stickyTable:r,$mobileTable:l,$win:o,$tableBody:b,border:d=e.isNumeric(d)?2*d:2},T=e.extend(!0,{},{minScreen:991,fixedElements:[],labelFirstCol:!1,inTabs:!1},i);T.inTabs&&(f.$tab=n.closest(".tab-pane")),t.makeBuffer(T.fixedElements),t.addHiddenTable(f),t.buildMobile(f,T),t.locateTable(f,T),o.on("scroll",(function(){t.locateTable(f,T)})),o.on("resize",(function(){clearTimeout(c),c=setTimeout((function(){t.resize(f,T)}),250)}))})),this.o365Table.test=t,this}}(jQuery);
